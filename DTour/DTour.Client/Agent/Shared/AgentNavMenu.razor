<div id="kt_app_header" class="app-header align-items-stretch">
 <div class="app-container container-fluid d-flex align-items-stretch justify-content-between"
      id="kt_app_header_container">
  <div class="d-flex align-items-center justify-content-between flex-row-fluid" id="kt_app_header_wrapper">
   <div class="app-header-logo d-flex align-items-center">
    <div class="d-flex align-items-center d-lg-none ms-n2 me-2" title="Show sidebar menu">
     <div class="btn btn-icon btn-active-color-primary w-35px h-35px" id="kt_app_header_menu_toggle">
      <i class="ki-outline ki-abstract-14 fs-2"></i>
     </div>
    </div>
    <a href="/" class="me-5 me-lg-9">
     <img alt="Logo" src="img/logo.svg"
          class="h-50px h-lg-60px theme-light-show"/>
     <img alt="Logo" src="img/logo-white.svg"
          class="h-50px h-lg-60px theme-dark-show"/>
    </a>
   </div>
   <div class="d-flex align-items-stretch" id="kt_app_header_menu_wrapper">
    <div class="app-header-menu app-header-mobile-drawer align-items-stretch"
         data-kt-drawer="true"
         data-kt-drawer-name="app-header-menu"
         data-kt-drawer-activate="{default: true, lg: false}"
         data-kt-drawer-overlay="true"
         data-kt-drawer-width="{default:'200px', '300px': '250px'}"
         data-kt-drawer-direction="start"
         data-kt-drawer-toggle="#kt_app_header_menu_toggle"
         data-kt-swapper="true"
         data-kt-swapper-mode="prepend"
         data-kt-swapper-parent="{default: '#kt_app_body', lg: '#kt_app_header_menu_wrapper'}">
     <div
      class="menu menu-rounded menu-column menu-lg-row menu-active-bg menu-title-gray-600 menu-state-primary menu-arrow-gray-500 fw-semibold fw-semibold fs-6 align-items-stretch my-5 my-lg-0 px-2 px-lg-0"
      id="#kt_app_header_menu" data-kt-menu="true">
      <div class="menu-item me-0 me-lg-2">
       <NavLink href="/agent">
        <span class="menu-link">
         <span class="menu-icon">
          <i class="fas fa-home fs-3"></i>
         </span>
         <span class="menu-title">@Loc["Dash board"]</span>
        </span>
       </NavLink>
      </div>
      <div data-kt-menu-trigger="{default: 'click', lg: 'hover'}"
           data-kt-menu-placement="bottom-start" data-kt-menu-offset="12,0"
           class="menu-item menu-lg-down-accordion menu-sub-lg-down-indention me-0 me-lg-2">
       <span class="menu-link">
        <span class="menu-icon"><i class="fas fa-location fs-3"></i></span>
        <span class="menu-title">@Loc["Agent"]</span><span class="menu-arrow d-lg-none"></span>
       </span>
       <div class="menu-sub menu-sub-lg-down-accordion menu-sub-lg-dropdown px-lg-2 py-lg-4 w-lg-200px">
        <AuthorizeView>
         <div class="menu-item">
          @if (context.User.IsInRole(RoleConstants.AgentAccountingRole))
          {
           <NavLink href="/agent/top-up" class="menu-link">
            <span class="menu-bullet">
             <span class="bullet bullet-dot"></span>
            </span>
            <span class="menu-title">@Loc["Top-up"]</span>
           </NavLink>
          }
         </div>
        </AuthorizeView>
        <div class="menu-item">
         <NavLink href="/agent/ticket" class="menu-link">
            <span class="menu-bullet">
             <span class="bullet bullet-dot"></span>
            </span>
          <span class="menu-title">@Loc["Buy Tickets"]</span>
         </NavLink>
        </div>
        <div class="menu-item">
         <NavLink href="/agent/transaction-report" class="menu-link">
          <span class="menu-bullet">
           <span class="bullet bullet-dot"></span>
          </span>
          <span class="menu-title">@Loc["Transaction Reports"]</span>
         </NavLink>
        </div>
       </div>
      </div>
      <AuthorizeView Roles="@RoleConstants.AccountingRole">
       <div data-kt-menu-trigger="{default: 'click', lg: 'hover'}"
            data-kt-menu-placement="bottom-start" data-kt-menu-offset="12,0"
            class="menu-item menu-lg-down-accordion menu-sub-lg-down-indention me-0 me-lg-2">
       <span class="menu-link"><span class="menu-icon"><i
          class="fas fa-compass fs-3"></i></span><span
         class="menu-title">@Loc["Operation"]</span><span class="menu-arrow d-lg-none"></span></span>
        <div
         class="menu-sub menu-sub-lg-down-accordion menu-sub-lg-dropdown px-lg-2 py-lg-4 w-lg-200px">
         <div class="menu-item">
          <NavLink class="menu-link"
                   href="/agent/approve-top-up">
          <span
           class="menu-bullet"><span class="bullet bullet-dot fs-2"></span></span>
           <span
            class="menu-title">@Loc["Approve Top-up"]</span>
          </NavLink>
         </div>
         <div class="menu-item">
          <NavLink class="menu-link"
                   href="/agent/agent">
          <span
           class="menu-bullet"><span class="bullet bullet-dot fs-2"></span></span>
           <span
            class="menu-title">@Loc["Agent"]</span>
          </NavLink>
         </div>
         <div class="menu-item">
          <NavLink class="menu-link"
                   href="/agent/currency">
          <span
           class="menu-bullet"><span class="bullet bullet-dot fs-2"></span></span>
           <span
            class="menu-title">@Loc["Currency"]</span>
          </NavLink>
         </div>
         <div class="menu-item">
          <NavLink class="menu-link"
                   href="/agent/exchange-rate">
          <span
           class="menu-bullet"><span class="bullet bullet-dot fs-2"></span></span>
           <span
            class="menu-title">@Loc["Exchange rate"]</span>
          </NavLink>
         </div>
         <div class="menu-item">
          <NavLink class="menu-link"
                   href="/agent/commission">
          <span
           class="menu-bullet"><span class="bullet bullet-dot fs-2"></span></span>
           <span
            class="menu-title">@Loc["Commission"]</span>
          </NavLink>
         </div>
        </div>
       </div>
      </AuthorizeView>
      <AuthorizeView Roles="@RoleConstants.AdministratorRole">
       <div data-kt-menu-trigger="{default: 'click', lg: 'hover'}"
            data-kt-menu-placement="bottom-start" data-kt-menu-offset="12,0"
            class="menu-item menu-lg-down-accordion menu-sub-lg-down-indention me-0 me-lg-2">
        <span class="menu-link">
         <span class="menu-icon">
          <i class="fas fa-shield-check fs-3"></i>
         </span>
         <span class="menu-title">@Loc["Administrator"]</span>
         <span class="menu-arrow d-lg-none">
         </span>
        </span>
        <div class="menu-sub menu-sub-lg-down-accordion menu-sub-lg-dropdown px-lg-2 py-lg-4 w-lg-250px">
         <div data-kt-menu-trigger="{default:'click', lg: 'hover'}"
              data-kt-menu-placement="right-start"
              class="menu-item menu-lg-down-accordion">
          <span class="menu-link">
           <span class="menu-icon"><i class="ki-outline ki-shield-tick fs-2"></i></span><span
            class="menu-title">@Loc["User Management"]</span>
           <span class="menu-arrow"></span></span>
          <div
           class="menu-sub menu-sub-lg-down-accordion menu-sub-lg-dropdown menu-active-bg px-lg-2 py-lg-4 w-lg-225px">
           <div data-kt-menu-trigger="{default:'click', lg: 'hover'}"
                data-kt-menu-placement="right-start"
                class="menu-item menu-lg-down-accordion">
            <span class="menu-link"><span
              class="menu-bullet"><span
               class="bullet bullet-dot"></span></span><span
              class="menu-title">@Loc["Users"]</span><span class="menu-arrow"></span></span>
            <div
             class="menu-sub menu-sub-lg-down-accordion menu-sub-lg-dropdown menu-active-bg px-lg-2 py-lg-4 w-lg-225px">
             <div class="menu-item">
              <NavLink class="menu-link" href="/Account/Register">
               <span class="menu-bullet">
                <span class="bullet bullet-dot"></span>
               </span>
               <span class="menu-title">@Loc["Register"]</span>
              </NavLink>
             </div>
             <div class="menu-item">
              <NavLink class="menu-link" href="/Account/Admin-ChangePassword">
               <span class="menu-bullet">
                <span class="bullet bullet-dot"></span>
               </span>
               <span class="menu-title">@Loc["Reset Password"]</span>
              </NavLink>
             </div>
            </div>
           </div>
           <div class="menu-item">
            <a class="menu-link" href="/agent/role"><span
              class="menu-bullet"><span
               class="bullet bullet-dot"></span></span><span
              class="menu-title">@Loc["Permissions"]</span></a>
           </div>
          </div>
         </div>
        </div>
       </div>
      </AuthorizeView>
      <AuthorizeView Roles="@RoleConstants.ContentRole">
       <div class="menu-item me-0 me-lg-2">
        <NavLink href="/agent/post">
        <span class="menu-link">
         <span class="menu-icon">
          <i class="fas fa-code-commit fs-3"></i>
         </span>
         <span class="menu-title">@Loc["Posts"]</span>
        </span>
        </NavLink>
       </div>
      </AuthorizeView>
     </div>
    </div>
   </div>
   <div class="app-navbar flex-shrink-0">
    <div class="app-navbar-item me-3" id="kt_header_user_menu_toggle">
     <div class="btn btn-icon btn-color-gray-600 btn-active-color-primary w-35px h-35px w-md-40px h-md-40px"
          data-kt-menu-trigger="{default: 'click', lg: 'hover'}"
          data-kt-menu-attach="parent"
          data-kt-menu-placement="bottom-end">
      <i class="ki-outline ki-user fs-2"></i></div>

     <div
      class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg menu-state-color fw-semibold py-4 fs-6 w-325px"
      data-kt-menu="true">
      <AuthorizeView Context="userContext">
       <Authorized>
        <div class="menu-item px-3">
         <div class="menu-content d-flex align-items-center px-3">
          <div class="symbol symbol-50px me-5">
           <img alt="Logo" src="/img/profile.jpg"/>
          </div>
          <div class="d-flex flex-column">
           <div class="fw-bold d-flex align-items-center fs-5">
            @userContext.User.Claims.FirstOrDefault(w => w.Type == "DisplayName")!.Value
            <span
             class="badge badge-light-success fw-bold fs-8 px-2 py-1 ms-2">Pro</span>
           </div>
           <a href="#" class="fw-semibold text-muted text-hover-primary fs-7">
            @userContext.User.Identity?.Name
           </a>
          </div>
         </div>
        </div>
        <div class="separator my-2"></div>
        <div class="menu-item px-3">
         <NavLink href="Account/ChangePassword" class="menu-link px-3 py-2">
          <span class="menu-icon" data-kt-element="icon">
           <i class="ki-outline ki-keyboard fs-2"></i>
          </span>
          <span class="menu-title">
           @Loc["Change Password"]
          </span>
         </NavLink>
        </div>
        <div class="separator my-2"></div>
        <div class="menu-item px-5">
         <form action="Account/Logout" method="post">
          <AntiforgeryToken/>
          <input type="hidden" name="ReturnUrl" value=""/>
          <button type="submit" class="btn btn-sm btn-primary">
           <span class="bi bi-arrow-bar-left-nav-menu" aria-hidden="true"></span> @Loc["Sign out"]
          </button>
         </form>
        </div>
       </Authorized>
       <NotAuthorized>
        <a href="Account/Login" class="btn btn-custom">@Loc["Log in"]</a>
       </NotAuthorized>
      </AuthorizeView>
     </div>
    </div>
   </div>
  </div>
 </div>
</div>