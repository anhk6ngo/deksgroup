@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@if (HttpContext is null)
{
    <p>Loading...</p>
}
else
{
    <div class="d-flex flex-column flex-root" id="kt_app_root">
        <div class="d-flex flex-column flex-lg-row flex-column-fluid">
            <div class="d-flex flex-column flex-lg-row-fluid w-lg-50 p-10 order-2 order-lg-1">
                <div class="d-flex flex-center flex-column flex-lg-row-fluid">
                    <a href="#" onclick="location.href='/'" class="mb-0 mb-lg-12">
                        <img alt="Logo" src="img/logo.svg" class="h-120px h-lg-150px"/>
                    </a>
                    <div class="w-lg-500px p-10">
                        @Body
                    </div>
                    <a onclick="location.href='/'" class="btn btn-lg btn-light-primary">@Loc["Go Home"]</a>
                </div>
            </div>
            <SectionOutlet SectionName="@NavConstants.TopRight"></SectionOutlet>
        </div>
    </div>
}

@code {
    [CascadingParameter]
    private HttpContext? HttpContext { get; set; }
    protected override void OnParametersSet()
    {
        if (HttpContext is null)
        {
            
            NavigationManager.Refresh(forceReload: true);
        }
    }
}
